import React from 'react';
import ReactDOM from 'react-dom';

import NotSlippyMap from './components/NotSlippyMap.jsx';

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      // viewport: [-180, -90, 360, 180], // [minLong, minLat, LongRange, LatRange]
      viewport: [-84, -28, 6, 6], // [minLong, minLat, LongRange, LatRange]
      waypoints: [],
    };
  }

  componentDidMount() {
    // Fake waypoints data
    const waypointsData = [
      {
        Id: 149927716,
        L: 24.56543,
        N: -81.736608,
        A: 4.37,
        G: 0,
        C: 0,
        D: '2018-01-22T20:20:15Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149927716,
        ET: 30,
        H: 0
      },
      {
        Id: 149920365,
        L: 24.540625,
        N: -81.724526,
        A: 2.34,
        G: 12.167,
        C: 12,
        D: '2018-01-22T19:20:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149920365,
        ET: 17,
        H: 0
      },
      {
        Id: 149917908,
        L: 24.544218,
        N: -81.682105,
        A: 2.34,
        G: 13.212,
        C: 12,
        D: '2018-01-22T19:00:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149917908,
        ET: 17,
        H: 0
      },
      {
        Id: 149915383,
        L: 24.55381,
        N: -81.640541,
        A: -1.7,
        G: 12.167,
        C: 12,
        D: '2018-01-22T18:40:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149915383,
        ET: 17,
        H: 0
      },
      {
        Id: 149912995,
        L: 24.563616,
        N: -81.599793,
        A: 4.37,
        G: 13.212,
        C: 12,
        D: '2018-01-22T18:20:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149912995,
        ET: 17,
        H: 0
      },
      {
        Id: 149910719,
        L: 24.569248,
        N: -81.557993,
        A: 4.37,
        G: 12.167,
        C: 12,
        D: '2018-01-22T18:00:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149910719,
        ET: 17,
        H: 0
      },
      {
        Id: 149908454,
        L: 24.567993,
        N: -81.516108,
        A: 4.37,
        G: 12.167,
        C: 12,
        D: '2018-01-22T17:40:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149908454,
        ET: 17,
        H: 0
      },
      {
        Id: 149906068,
        L: 24.57617,
        N: -81.47536,
        A: 8.43,
        G: 14.265,
        C: 12,
        D: '2018-01-22T17:20:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149906068,
        ET: 17,
        H: 0
      },
      {
        Id: 149903765,
        L: 24.586673,
        N: -81.434783,
        A: 2.34,
        G: 12.167,
        C: 11,
        D: '2018-01-22T17:00:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149903765,
        ET: 17,
        H: 0
      },
      {
        Id: 149901490,
        L: 24.593925,
        N: -81.40131,
        A: 0.31,
        G: 13.212,
        C: 12,
        D: '2018-01-22T16:40:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149901490,
        ET: 17,
        H: 0
      },
      {
        Id: 149899286,
        L: 24.596415,
        N: -81.359725,
        A: -3.73,
        G: 11.128,
        C: 13,
        D: '2018-01-22T16:20:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149899286,
        ET: 17,
        H: 0
      },
      {
        Id: 149895100,
        L: 24.619353,
        N: -81.296681,
        A: 0.31,
        G: 9.07,
        C: 11,
        D: '2018-01-22T15:40:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149895100,
        ET: 17,
        H: 0
      },
      {
        Id: 149891181,
        L: 24.640273,
        N: -81.239498,
        A: 4.37,
        G: 9.07,
        C: 11,
        D: '2018-01-22T15:00:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149891181,
        ET: 17,
        H: 0
      },
      {
        Id: 149887681,
        L: 24.65493,
        N: -81.181905,
        A: 0.31,
        G: 5.012,
        C: 5,
        D: '2018-01-22T14:20:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149887681,
        ET: 17,
        H: 0
      },
      {
        Id: 149885844,
        L: 24.662708,
        N: -81.16637,
        A: -1.7,
        G: 12.167,
        C: 11,
        D: '2018-01-22T14:00:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149885844,
        ET: 17,
        H: 0
      },
      {
        Id: 149884169,
        L: 24.682813,
        N: -81.13208,
        A: -1.7,
        G: 12.167,
        C: 10,
        D: '2018-01-22T13:40:00Z',
        S: 6,
        E: 0,
        T: 4628977,
        M: 149884169,
        ET: 17,
        H: 0
      },
      {
        Id: 149879132,
        L: 24.703306,
        N: -81.111888,
        A: -7.79,
        G: 0,
        C: 0,
        D: '2018-01-22T12:31:45Z',
        S: 6,
        P: false,
        E: 0,
        T: 4628977,
        M: 149879132,
        ET: 38,
        H: 0
      },
      {
        Id: 0,
        L: 24.7033425569534,
        N: -81.1119689941406,
        A: 1,
        G: 0,
        D: '2018-01-12T21:09:34Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.6792949438095,
        N: -81.0866556167602,
        A: 1,
        G: 11,
        D: '2018-01-12T19:59:21Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.686296582222,
        N: -81.0485972166061,
        A: 0,
        G: 9.25,
        D: '2018-01-12T19:35:48Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.7008427381516,
        N: -81.0134130716324,
        A: 3,
        G: 8.25,
        D: '2018-01-12T19:10:17Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.7158652544022,
        N: -80.9800884723663,
        A: 0,
        G: 10,
        D: '2018-01-12T18:42:50Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.7328790426254,
        N: -80.946351647377,
        A: 2,
        G: 10.5,
        D: '2018-01-12T18:19:19Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.7466806173325,
        N: -80.9105355739594,
        A: 1,
        G: 12.5,
        D: '2018-01-12T17:57:45Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.756639122963,
        N: -80.8765065670014,
        A: 0,
        G: 11,
        D: '2018-01-12T17:36:12Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.7642587423325,
        N: -80.8399838209152,
        A: 0,
        G: 10.75,
        D: '2018-01-12T17:14:38Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.7785388231277,
        N: -80.8069627285004,
        A: 3,
        G: 11.25,
        D: '2018-01-12T16:53:04Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.7962950468063,
        N: -80.7756041288376,
        A: 4,
        G: 11.5,
        D: '2018-01-12T16:31:29Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.8110471963882,
        N: -80.7410994768143,
        A: -1,
        G: 11,
        D: '2018-01-12T16:09:54Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.8331249952316,
        N: -80.7104622125626,
        A: 4,
        G: 12,
        D: '2018-01-12T15:40:28Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.8512974977493,
        N: -80.6778894662857,
        A: 2,
        G: 13.5,
        D: '2018-01-12T15:18:53Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.8704334497452,
        N: -80.646067738533,
        A: -2,
        G: 10.5,
        D: '2018-01-12T14:53:23Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.8899921178818,
        N: -80.6161707639694,
        A: -5,
        G: 14.75,
        D: '2018-01-12T14:33:46Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.9141598939896,
        N: -80.5856193304062,
        A: -4,
        G: 12.75,
        D: '2018-01-12T14:12:12Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.9377526044846,
        N: -80.555514216423,
        A: 3,
        G: 11,
        D: '2018-01-12T13:50:39Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.9600986242294,
        N: -80.5233062505722,
        A: 4,
        G: 12.75,
        D: '2018-01-12T13:29:06Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 24.9824296236038,
        N: -80.490445971489,
        A: 2,
        G: 4,
        D: '2018-01-12T12:53:46Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 25.007957816124,
        N: -80.4652975797653,
        A: 1,
        G: 9.75,
        D: '2018-01-12T12:20:25Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 25.0121184587479,
        N: -80.4608772993088,
        A: 64,
        G: 9,
        D: '2018-01-12T12:16:30Z',
        S: 6,
        E: 0,
        T: 4591827,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 25.0638189315796,
        N: -80.4408347606659,
        A: 2,
        G: 0.25,
        D: '2018-01-11T23:15:14Z',
        S: 6,
        E: 0,
        T: 4588616,
        ET: 17,
        H: 1
      },
      {
        Id: 0,
        L: 25.0691876411438,
        N: -80.4139530658722,
        A: 0,
        G: 10.5,
        D: '2018-01-11T22:17:22Z',
        S: 6,
        E: 0,
        T: 4588616,
        ET: 17,
        H: 1
      }
    ];

    // Update waypoints
    this.setState({ waypoints: waypointsData });
  }

  render() {
    return (
      <NotSlippyMap
        viewport={this.state.viewport}
        waypoints = {this.state.waypoints}
      />
    );
  }
}

ReactDOM.render(<App />, document.getElementById('app'));

// Turn on Webpack HMR (Hot Module Replacement) when necessary
if (module.hot) {
  module.hot.accept();
}
